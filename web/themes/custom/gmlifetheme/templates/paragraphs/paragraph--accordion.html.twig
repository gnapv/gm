{#
/**
 * @file
 * Default theme implementation to display a paragraph.
 *
 */
#}
{%
  set classes = [
    'paragraph', 
    'paragraph--type--' ~ paragraph.bundle|clean_class,
    view_mode ? 'paragraph--view-mode--' ~ view_mode|clean_class,
    not paragraph.isPublished() ? 'paragraph--unpublished'
  ]
%}

{% set final_classes = paragraph.field_extra_classes.value|render|trim %}
{# Sets Unique ID for Accordion from Paragraph ID. #}
{% set paragraph_id = 'accordion-' ~ paragraph.id.value %}



{% block paragraph %}
  <div{{ attributes.addClass(classes) }}>
    {% block content %}

        {# {{ content|without('field_extra_classes') }} #}


    <div class="{{ final_classes }}" id="{{ paragraph_id }}" aria-multiselectable="true">

    {{ content.field_add_accordion_item }}

     

{# 
      {% set cols = content.field_add_columns %}

      {% for key, item in cols['#items'] %}

      {% set step = content.field_add_columns['#items'][key] %}

        <div class="card">
          <div class="card-header" id="heading-{{ paragraph_id }}-{{ key + 1 }}">
            <h2 class="mb-0">
              <button class="{{ final_classes }}" type="button" data-toggle="collapse" data-target="#collapse-{{ paragraph_id }}-{{ key + 1 }}" aria-expanded="true" aria-controls="#collapse-{{ paragraph_id }}-{{ key + 1 }}">
                {# {{ item['#paragraph'].text_plain.field_text_plain.value }} #}
             {# {{ cols[key].field_add_columns.field_add_content['#items'] }} #}

                {# {{ item['#paragraph'].text_plain }} #}
                {# {{ item.entity.field_text_plain.entity }} #}
                {# {{ item.content['#paragraph'].field_add_content.0.field_text_plain.value|render|trim }} #}
                {# {{ step.field_add_content }} #}
                {# {{ dump(step) }} #}

{#
              </button>
            </h2>
          </div>

          <div id="collapse-{{ paragraph_id }}-{{ key + 1 }}" class="collapse show" aria-labelledby="heading-{{ paragraph_id }}-{{ key + 1 }}" data-parent="#heading-{{ paragraph_id }}-{{ key + 1 }}">
            <div class="card-body">
             {{ cols[key] }}
            </div>
          </div>
        </div>


      {% endfor %} #}


    </div>


    {% endblock %}
  </div>
{% endblock paragraph %}
